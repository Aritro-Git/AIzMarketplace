:root{
  --bg:#fbf7f3;
  --ink:#101217;
  --muted:#545a68;

  --card:#ffffff;
  --line:rgba(16,18,23,.14);
  --shadow: 0 16px 34px rgba(16,18,23,.10);
  --radius:18px;

  --accent:#7c3aed;
  --mint:#10b981;
  --blue:#3b82f6;
  --amber:#f59e0b;

  --pill:#111217;
  --chip:rgba(16,18,23,.06);
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  background:
  /* top glow (AI / orchestration) */
  radial-gradient(
    1200px 700px at 50% -200px,
    rgba(124, 58, 237, 0.38),
    transparent 60%
  ),

  /* right cool wash (engineering / analytics) */
  radial-gradient(
    900px 700px at 100% 35%,
    rgba(16, 185, 129, 0.22),
    transparent 65%
  ),

  /* left cool wash (data / infra) */
  radial-gradient(
    900px 700px at 0% 45%,
    rgba(59, 130, 246, 0.18),
    transparent 65%
  ),

  /* subtle depth from bottom */
  linear-gradient(
    to bottom,
    rgba(16, 18, 23, 0.04),
    transparent 40%
  ),

  var(--bg);
  color: var(--ink);
  line-height:1.35;
}
a{color:inherit;text-decoration:none}

.wrap{max-width:1120px;margin:0 auto;padding:26px 18px 70px}
.topbar{
  display:flex;align-items:center;justify-content:space-between;
  padding: 6px 2px 18px;
}
.brand{font-weight:900;letter-spacing:.2px;font-size:18px}
.brand span{color:var(--accent)}
.nav{display:flex;gap:14px;align-items:center;color:var(--muted);font-size:14px}
.nav a{padding:8px 10px;border-radius:12px}
.nav a:hover{background:rgba(16,18,23,.06)}
.cta{
  background:var(--pill);color:#fff;border:0;
  padding:10px 14px;border-radius:14px;font-weight:800;cursor:pointer;
}

/* HERO */
.hero{
  background: #f6e6dc;
  border: 2px solid rgba(16,18,23,.10);
  border-radius: 26px;
  padding: 24px;
  box-shadow: 0 14px 30px rgba(16,18,23,.08);
}
.heroGrid{display:grid;grid-template-columns:1.1fr .9fr;gap:18px;align-items:center}
.hTitle{font-size:54px;line-height:1.02;margin:0 0 10px;letter-spacing:-1px}
.hSub{margin:0 0 16px;color:var(--muted);font-size:16px;max-width:60ch}
.promptRow{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.prompt{
  flex:1 1 340px;background:#fff;border:2px solid rgba(16,18,23,.28);
  border-radius:16px;padding:12px 12px;display:flex;gap:10px;align-items:center;
  box-shadow: 0 10px 24px rgba(16,18,23,.08);
}
.prompt input{width:100%;border:0;outline:none;font-size:14px}
.try{background:var(--ink);color:#fff;border:0;padding:12px 14px;border-radius:16px;font-weight:900;cursor:pointer}

/* FAN CARDS (FIXED) */
.fan{
  position:relative;
  height: 250px;
  margin-top: 10px;
  isolation:isolate;
}
.fanCard{
  position:absolute;
  width: 220px;
  height: 230px;
  background: var(--card);
  border: 2px solid rgba(16,18,23,.14);
  border-radius: 22px;
  box-shadow: var(--shadow);
  padding: 14px;
  overflow: hidden;
}
.badge{
  display:inline-flex;align-items:center;gap:8px;
  padding:8px 10px;border-radius:999px;
  border:2px solid rgba(16,18,23,.12);
  background: rgba(16,18,23,.03);
  font-size:12px;font-weight:900;
}
.dot{width:10px;height:10px;border-radius:999px}

.fanText{
  position: relative;
  z-index: 5; /* always above overlaps */
  -webkit-font-smoothing: antialiased;
  text-rendering: geometricPrecision;
}
.fanText::before{
  content:"";
  position:absolute;
  left:-8px; right:-8px;
  top:-6px; height: 86px;
  border-radius: 16px;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(16,18,23,.08);
  box-shadow: 0 10px 24px rgba(16,18,23,.08);
  z-index:-1;
}
.fanCard h4{margin:12px 0 6px;font-size:18px;letter-spacing:-.2px}
.fanCard p{margin:0;color:var(--muted);font-size:13px}

/* prevent long text from colliding */
.fanCard h4, .fanCard p{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.preview{
  margin-top: 12px;
  border-radius: 16px;
  border:2px solid rgba(16,18,23,.08);
  height: 130px;
  display:flex;align-items:center;justify-content:center;
  color: rgba(16,18,23,.35);
  font-weight:900;
}

/* spread fan so text zones don't overlap */
.f1{left: 0px;   top: 34px; z-index:1}
.f2{left: 140px; top: 10px; z-index:2}
.f3{left: 280px; top: 34px; z-index:3}
.f4{left: 420px; top: 58px; z-index:4}

/* CATALOGUE (Amazon-like grid) */
.sectionHead{
  margin: 26px 2px 10px;
  display:flex;align-items:end;justify-content:space-between;gap:10px;
}
.sectionHead h2{margin:0;font-size:22px;letter-spacing:-.3px}
.sectionHead .hint{color:var(--muted);font-size:13px}

.filters{
  margin: 10px 0 14px;
  display:flex;flex-wrap:wrap;gap:10px;align-items:center;
}
.pill{
  background: rgba(255,255,255,.6);
  border: 1px solid var(--line);
  padding: 10px 12px;
  border-radius: 999px;
  box-shadow: 0 8px 18px rgba(16,18,23,.06);
  font-size:13px;
}
.pill input{border:0;outline:none;background:transparent;width:260px;font-size:13px}
.select{
  border:1px solid var(--line);
  background: rgba(255,255,255,.6);
  padding:10px 12px;border-radius:999px;
  font-size:13px;
}

.grid{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 14px;
}
.product{
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 16px;
  box-shadow: 0 12px 26px rgba(16,18,23,.08);
  overflow:hidden;
  transition: transform .15s ease, box-shadow .15s ease;
}
.product:hover{
  transform: translateY(-2px);
  box-shadow: 0 18px 34px rgba(16,18,23,.12);
}
.thumb{
  height: 140px;
  background: linear-gradient(135deg, rgba(124,58,237,.12), rgba(16,185,129,.10));
  display:flex;align-items:center;justify-content:center;
  border-bottom: 1px solid var(--line);
}
.thumb .miniOrb{
  width: 70px;height:70px;border-radius:18px;
  background: rgba(16,18,23,.06);
  border: 1px solid rgba(16,18,23,.12);
}
.pBody{padding:12px 12px 14px}
.pTitle{font-weight:900;margin:0 0 6px;font-size:15px}
.pDesc{margin:0 0 10px;color:var(--muted);font-size:12.5px;min-height:34px}
.rating{display:flex;gap:8px;align-items:center;color:var(--muted);font-size:12px;margin-bottom:8px}
.stars{color:#f59e0b;letter-spacing:1px}
.price{font-weight:900;margin: 6px 0 10px}
.pTags{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px}
.chip{
  font-size:11px;
  padding:6px 8px;
  border-radius:999px;
  background: var(--chip);
  border: 1px solid rgba(16,18,23,.10);
  color: rgba(16,18,23,.72);
  font-weight:700;
}
.pActions{display:flex;gap:8px}
.btn{
  flex:1;
  border-radius:12px;
  padding:10px 10px;
  border: 1px solid rgba(16,18,23,.14);
  background: rgba(16,18,23,.03);
  font-weight:800;
  cursor:pointer;
}
.btn.primary{
  background: rgba(124,58,237,.10);
  border-color: rgba(124,58,237,.25);
}

@media (max-width: 1060px){ .grid{grid-template-columns:repeat(3,1fr)} }
@media (max-width: 820px){
  .heroGrid{grid-template-columns:1fr}
  .fan{height: 280px}
  .grid{grid-template-columns:repeat(2,1fr)}
  .hTitle{font-size:42px}
  .pill input{width:180px}
}
@media (max-width: 520px){
  .grid{grid-template-columns:1fr}
  .fan{height: 300px}
}

/* ===== Fan loop (spotlight one card at a time) =====
   IMPORTANT CHANGE: remove blur/filter from the whole card so text stays sharp.
*/
.fanLoop .fanCard{
  transform-origin: 50% 85%;
  will-change: transform;
  animation: fanSpotlight 12s infinite ease-in-out;
}

/* Stagger each card so it takes a turn */
.fanLoop .f1{ animation-delay: 0s; }
.fanLoop .f2{ animation-delay: 3s; }
.fanLoop .f3{ animation-delay: 6s; }
.fanLoop .f4{ animation-delay: 9s; }

@keyframes fanSpotlight{
  0%   { transform: translateY(0) scale(.98) rotate(var(--r,0deg)); z-index: 1; }
  10%  { transform: translateY(-8px) scale(1.03) rotate(var(--r,0deg)); z-index: 10; }
  25%  { transform: translateY(-8px) scale(1.03) rotate(var(--r,0deg)); z-index: 10; }
  35%  { transform: translateY(0) scale(.98) rotate(var(--r,0deg)); z-index: 1; }
  100% { transform: translateY(0) scale(.98) rotate(var(--r,0deg)); z-index: 1; }
}

/* give each card its own base rotation via CSS variables */
.f1{ --r: -11deg; }
.f2{ --r: -3deg; }
.f3{ --r: 7deg; }
.f4{ --r: 13deg; }

/* Optional: make the “active” one feel clickable */
.fanLoop .fanCard:hover{
  animation-play-state: paused;
  transform: translateY(-10px) scale(1.05) rotate(var(--r,0deg));
  z-index: 20;
}

/* ===== Agents filters buttons ===== */
.chipBtn{cursor:pointer}
.chipBtn.isActive{
  background: rgba(124,58,237,.12);
  border-color: rgba(124,58,237,.25);
}

/* ===== Detail page ===== */
.detail{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:14px;
  margin-top: 10px;
}
.detailMedia{
  background:#fff;
  border:1px solid var(--line);
  border-radius: 18px;
  padding:12px;
  box-shadow: 0 12px 26px rgba(16,18,23,.08);
}
.detailShot{
  height: 260px;
  border-radius: 16px;
  border: 1px solid var(--line);
  display:flex;align-items:center;justify-content:center;
  color: rgba(16,18,23,.35);
  font-weight:900;
  background: linear-gradient(135deg, rgba(124,58,237,.10), rgba(16,185,129,.10));
}
.detailShots{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:10px}
.miniShot{
  height: 84px;border-radius: 14px;border:1px solid var(--line);
  display:flex;align-items:center;justify-content:center;
  color: rgba(16,18,23,.35);font-weight:900;background: rgba(16,18,23,.03);
}
.detailInfo{
  background:#fff;
  border:1px solid var(--line);
  border-radius: 18px;
  padding:14px;
  box-shadow: 0 12px 26px rgba(16,18,23,.08);
}
.crumbs{color:var(--muted);font-size:13px;display:flex;gap:8px;align-items:center}
.crumbs span{opacity:.8}
.detailTitle{margin:10px 0 8px;font-size:34px;letter-spacing:-.6px;line-height:1.05}
.detailSub{margin:0 0 12px;color:var(--muted)}
.detailPrice{font-weight:900;margin:10px 0 0}
.detailActions{display:flex;gap:10px;margin-top:12px}
.detailPanel{
  margin-top:14px;
  border-top:1px solid var(--line);
  padding-top:12px;
}
.detailPanel h3{margin:0 0 8px}
.detailPanel ul{margin:0;padding-left:18px;color:var(--muted)}

/* ===== Cart ===== */
.cartGrid{
  display:grid;
  grid-template-columns: 1.4fr .6fr;
  gap:14px;
  margin-top: 10px;
}
.cartBox, .summaryBox{
  background:#fff;border:1px solid var(--line);
  border-radius: 18px;padding:14px;
  box-shadow: 0 12px 26px rgba(16,18,23,.08);
}
.cartTitle{margin:0 0 12px}
.cartItems{display:flex;flex-direction:column;gap:10px}
.cartItem{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  border:1px solid var(--line);
  border-radius: 16px;
  padding:12px;
}
.cartItemLeft{display:flex;gap:10px;align-items:center}
.cartThumb{
  width:54px;height:54px;border-radius:14px;
  background: rgba(16,18,23,.06);
  border:1px solid rgba(16,18,23,.12);
}
.cartName{font-weight:900}
.cartSku{color:var(--muted);font-size:12px}
.cartItemRight{display:flex;gap:12px;align-items:center}
.qty{display:flex;gap:8px;align-items:center}
.qtyBtn{
  width:32px;height:32px;border-radius:10px;
  border:1px solid rgba(16,18,23,.14);
  background: rgba(16,18,23,.03);
  font-weight:900;cursor:pointer;
}
.qtyNum{min-width:18px;text-align:center;font-weight:900}
.cartPrice{font-weight:900;min-width:92px;text-align:right}
.linkBtn{
  border:0;background:transparent;cursor:pointer;
  color: rgba(16,18,23,.65);font-weight:800;
}
.cartEmpty{color:var(--muted);padding:10px 0}
.sumRow{display:flex;justify-content:space-between;margin:10px 0;color:var(--muted)}
.sumRow.total{color:var(--ink);font-weight:900}
@media (max-width: 900px){
  .detail{grid-template-columns:1fr}
  .cartGrid{grid-template-columns:1fr}
}

/* === Agent thumbnail image === */
.thumb {
  position: relative;
  overflow: hidden;
}
.agentImg {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;

  /* optional polish */
  transform: scale(1.03);
  filter: saturate(1.05) contrast(1.02);
}

/* hero fan-card preview image: subtle, cropped, not shouty */
.fanCard .preview { overflow: hidden; }
.fanPreviewImg{
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: 50% 35%;
  transform: scale(1.10);
  filter: saturate(0.95) contrast(0.95) brightness(1.05);
  opacity: 0.85;
  display: block;
  border-radius: 16px;
}
/* ===== Dark mode theme (no redesign) ===== */
body.dark{
  --bg:#0b0f17;
  --ink:#eef2ff;
  --muted:rgba(238,242,255,.72);

  --card:rgba(255,255,255,.06);
  --line:rgba(255,255,255,.10);
  --shadow: 0 18px 40px rgba(0,0,0,.45);

  --pill:#0f172a;
  --chip:rgba(255,255,255,.06);
}

/* Make inputs/controls readable in dark */
body.dark .prompt,
body.dark .pill,
body.dark .select{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.16);
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
}
body.dark .prompt input,
body.dark .pill input{
  color: var(--ink);
}
body.dark .prompt input::placeholder,
body.dark .pill input::placeholder{
  color: rgba(238,242,255,.55);
}

/* Hero background tweak so it doesn’t look muddy */
body.dark .hero{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.14);
}

/* Fan text white panel becomes dark glass */
body.dark .fanText::before{
  background: rgba(10,14,22,.72);
  border-color: rgba(255,255,255,.10);
  box-shadow: 0 10px 24px rgba(0,0,0,.45);
}

/* Buttons */
body.dark .btn{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.12);
}
body.dark .btn.primary{
  background: rgba(124,58,237,.22);
  border-color: rgba(124,58,237,.35);
}
/* Dark mode: product cards */
body.dark .product,
body.dark .detailMedia,
body.dark .detailInfo,
body.dark .cartBox,
body.dark .summaryBox{
  background: rgba(255,255,255,.07);
  border-color: rgba(255,255,255,.12);
  box-shadow: 0 18px 40px rgba(0,0,0,.45);
}
body.dark .pDesc,
body.dark .rating,
body.dark .sectionHead .hint{
  color: rgba(238,242,255,.72);
}
body.dark .pTitle,
body.dark .price{
  color: rgba(238,242,255,.95);
}
/* Dark mode: chips + filters */
body.dark .chip,
body.dark .pill,
body.dark .select{
  background: rgba(255,255,255,.08);
  border-color: rgba(255,255,255,.14);
  color: rgba(238,242,255,.80);
}
body.dark .chip{ font-weight: 800; }
/* Dark mode: inputs */
body.dark input,
body.dark select{
  color: rgba(238,242,255,.95);
  caret-color: rgba(238,242,255,.95);
}
body.dark input::placeholder{
  color: rgba(238,242,255,.55);
}
/* Dark mode: hero glass */
body.dark .hero{
  background: rgba(255,255,255,.05);
  border-color: rgba(255,255,255,.10);
  box-shadow: 0 22px 60px rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
}
/* Dark mode: fan cards */
body.dark .fanCard{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.12);
}
body.dark .fanText::before{
  background: rgba(10,14,22,.82);
  border-color: rgba(255,255,255,.10);
}
body.dark .fanCard h4{ color: rgba(238,242,255,.95); }
body.dark .fanCard p{ color: rgba(238,242,255,.70); }
body.dark .prompt{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.18);
}
body.dark .prompt input{
  color: rgba(238,242,255,.92);
}
body.dark .prompt input::placeholder{
  color: rgba(238,242,255,.55);
}
body.dark .try{
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.16);
  color: rgba(238,242,255,.92);
}
body.dark .try:hover{
  background: rgba(124,58,237,.22);
  border-color: rgba(124,58,237,.35);
}
body.dark .agentImg{
  filter: saturate(1.02) contrast(1.02) brightness(0.92);
}
body.dark .btn{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.14);
  color: rgba(238,242,255,.88);
}
body.dark .btn:hover{
  background: rgba(255,255,255,.10);
}
body.dark .fanLoop .fanCard{
  filter: blur(0px) saturate(1.02);
}
body.dark .prompt{
  background: rgba(255,255,255,.07);
  border-color: rgba(255,255,255,.18);
}
body.dark .prompt:focus-within{
  border-color: rgba(124,58,237,.55);
  box-shadow: 0 0 0 4px rgba(124,58,237,.18);
}
body.dark .prompt input{
  color: rgba(238,242,255,.92);
}
body.dark .prompt input::placeholder{
  color: rgba(238,242,255,.55);
}
body.dark .try{
  background: rgba(124,58,237,.30);
  border: 1px solid rgba(124,58,237,.45);
  color: rgba(238,242,255,.95);
}
body.dark .try:hover{
  background: rgba(124,58,237,.40);
}
body.dark .product{
  box-shadow: 0 18px 44px rgba(0,0,0,.55);
}
body.dark .product:hover{
  box-shadow: 0 22px 56px rgba(0,0,0,.65);
}
/* ===== DARK MODE HERO INPUT FIX ===== */

body.dark .prompt{
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.22);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.04);
}

body.dark .prompt input{
  background: transparent;
  color: #eef2ff;               /* bright readable text */
  font-weight: 500;
}

body.dark .prompt input::placeholder{
  color: rgba(238,242,255,0.55); /* visible but subtle */
  font-weight: 500;
}

/* focus state */
body.dark .prompt:focus-within{
  border-color: rgba(124,58,237,0.6);
  box-shadow:
    0 0 0 3px rgba(124,58,237,0.25),
    inset 0 0 0 1px rgba(255,255,255,0.06);
}
